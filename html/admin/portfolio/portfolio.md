---
marp: true
paginate: true
class: lead
title: "ì˜¤ì •í›ˆ - Portfolio"
style: |
  @import url('custom-theme-v4.css');
# theme: default
---

<!-- _class: title -->
>## ì‚¬ìš©ìì˜ ë‹¤ì–‘í•œ í¸ì˜ì„±, ì•ˆì •ì ì¸ ê°œë°œí™˜ê²½ ì œê³µ
>## í”Œë«í¼ê³¼ ê¸°ìˆ ì§€ì›ì— ê´€ì‹¬ì´ ë§ì€

# ğŸ˜„ğŸ™‚ ì§€ì›ì ì˜¤ì •í›ˆì…ë‹ˆë‹¤  
### <https://github.com/cowboy779>  

---

## introduce [0]  
- ##### WEMADE MAX (LIGHTCON Co., Ltd í”Œë«í¼ ì›¹ê°œë°œ ê¸°ìˆ ì§€ì›íŒ€)  
- ##### **ì›¹ê¸°ëŠ¥ ê°œë°œ 6ë…„ì°¨**  

ë¼ì´íŠ¸ì»¨ ê²½ë ¥ìœ¼ë¡œ ì…ì‚¬í•˜ì—¬ í˜„ì¬ëŠ” ì›¹ê°œë°œìë¡œ ê¸°ìˆ ì§€ì› íŒŒíŠ¸ë¥¼ ë‹´ë‹¹í•˜ê³  ìˆìŠµë‹ˆë‹¤.  
íŒ€ ë‚´ í”Œë«í¼ ì§€ì›ì„ ì›¹ê°œë°œìë¥¼ ì‹ ê·œë¡œ ìë¦¬í¸ì„±í•˜ì—¬, 
ê¸°ìˆ ì§€ì› ë° ì•ˆì •í™”ê°€ ë˜ë„ë¡ í•˜ëŠ”ê±¸ ëª©í‘œë¡œ í•˜ê³  ìˆìŠµë‹ˆë‹¤.  
í˜„ì¬ëŠ” ê¸°ìˆ ì§€ì›íŒ€ íŠ¹ì„±ìƒ ê°œë°œìœ ì§€ë³´ìˆ˜ ì¸í”„ë¼ êµ¬ì„±ì´ë‚˜ ê°„ë‹¨í•œ SVN/GIT ê¶Œí•œê´€ë¦¬ ë°  
ê°œë°œ VM ì„œë²„ê´€ë¦¬ë¥¼ ì§€ì›í•˜ê³  ìˆìŠµë‹ˆë‹¤.

> ëª¨ë°”ì¼ê²Œì„ì˜ ë¹ ë¥¸ ìƒì¡´ì£¼ê¸°ì— ë§ê²Œ ì›¹ìœ¼ë¡œ ì „í™˜ë˜ë©´ì„œ,
> ì„œë²„ê°œë°œì ë° ìš´ì˜ ì‚¬ì´ì—ì„œ ì›í™œí•œ ì†Œí†µ í˜‘ì—…ê³¼ ê°€ì¹˜ì°½ì¶œì„ ìœ„í•´ ë…¸ë ¥í•˜ê³  ìˆìŠµë‹ˆë‹¤.

---

## introduce [1]
ì €ëŠ” ì•„ë˜ë¥¼ ìƒê°í•˜ê³  ê³ ë¯¼í•©ë‹ˆë‹¤.

- ìµœì†Œì˜ ë¦¬ì†ŒìŠ¤ë¡œ ìµœëŒ€ì˜ íš¨ê³¼  
- ì„±ëŠ¥ ì¢‹ì€ ì½”ë“œ < **ì½ê¸° ì¢‹ì€ ì½”ë“œ**  
- ì£¼ì„ë‹¬ë¦° ì½”ë“œ < **ì§ê´€ì ì¸ ì½”ë“œ**  
- í”Œë«í¼ íŠ¹ì„±ì— ë§ëŠ” ê²¬ê³ ì„± ë° ìœ ì§€ë³´ìˆ˜ì„± í™•ë³´

---

## introduce [2]
ì €ëŠ” ì´ê²ƒì„ ì¶”êµ¬í•˜ê³  ì—´ë§í•©ë‹ˆë‹¤.  

- ìµœì†Œì˜ ì¥ì• ë°©ì§€ë¥¼ ìœ„í•œ ì•ˆì •í™”ëœ ê°œë°œ í”„ë¡œê·¸ë¨
- ì‚¬ìš©ì í¸ì˜ ë° ì•ˆì •ì„±ì„ ìœ„í•œ **DevOps(ìë™ë°°í¬ ë° ìŠ¤í¬ë¦½íŠ¸í™”)**  
- **íŠ¸ëŸ¬ë¸” ìŠˆíŒ…** (ìƒíƒœ ì¶”ì , ë¡œê·¸ë¶„ì„, ë¬¸ì œí•´ê²°)
- **ì„±ëŠ¥ ìµœì í™”** (ê·œê²©í™”ëœ ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸, í˜‘ì—…íˆ´ í™œìš©)

---

<!-- _backgroundImage: url('./images/bg_intro.jpg') -->
## Project [0]  
#### í”„ë¡œëª¨ì…˜ ì¿ í° ë°œê¸‰ ì‹œìŠ¤í…œ êµ¬ì¶•
###### - **ë°°ê²½:** ìì‚¬ë‚´ ë‹¤ë¥¸ê²Œì„ì—ì„œë„ ì—°ë™í•´ì„œ ì“¸ìˆ˜ ìˆê²Œ ì„œë²„ìš”ì²­ì‹œ ì¿ í° ë°œê¸‰ ê¸°ëŠ¥
###### - **ê¸°ìˆ  ìŠ¤íƒ:** PHP, MySQL
```php
$pendingMissionCodeList = array_diff($missionCodeList, array_keys($coupons));
if (count($pendingMissionCodeList) > 0) {
    $couponKey = LTFunction::getString('COUPONKEY', $couponData[0]);
    $result = createCrossPromoCoupons($couponId, $publisherId, $pendingMissionCodeList, $couponKey);
    if (is_string($result)) {
        return makeResponse(CouponResult::CROSSPROMO_ERROR_DB_INSERT, "Failed publish coupon (coupon_id : {$couponId}, mission_code : {$result}, publisher_id : {$publisherId})");
    }
    else {
        $coupons = array_merge($coupons, $result);
    }
}
return makeResponse(CouponResult::OK, $coupons);
```   
- **[cross-promotion](https://github.com/cowboy779/2025_resume-main/blob/main/html/admin/crosspromo/crosspromo.php)** : ì¿ í°ì€ Adminì—ì„œ ë‹¤ëŸ‰ ìƒì„±í•´ì„œ ì„œë²„ì—ì„œ ì²˜ë¦¬í•˜ì˜€ì§€ë§Œ,
  `ì´ë²¤íŠ¸ ì¿ í°ì€ ì„œë²„ì—ì„œ ìš”ì²­ì‹œ í•œì¥ì”© ë™ì  ìƒì„± í›„ ë“±ë¡í•œ ì‘ì—…ì´ì—ˆìŠµë‹ˆë‹¤.`


---

## Project [1]  
### ë¼ì´íŠ¸ì»¨ ì›¹ ê³ ê°ì„¼í„° FAQ ìƒì„±  
###### - **ë°°ê²½:** êµ¬ê¸€ ìŠ¤í† ì–´ ì •ì±…ì„ ì¤€ìˆ˜í•˜ë©°, ê³ ê° ê°œì¸ì •ë³´ ìµœì†Œìˆ˜ì§‘ì„ ìœ„í•œ ì´ë©”ì¼ì£¼ì†Œë¡œë§Œ í˜ì´ì§€ êµ¬í˜„  
###### - **ê¸°ìˆ  ìŠ¤íƒ:** Python, flask, jinja2, MySQL  
- **[WEB FAQ](https://wemademax.com/faq)** : ê³ ê°ì„¼í„° FAQ í˜ì´ì§€ë¥¼ ìœ„í•œ ë°ì´í„°ë² ì´ìŠ¤ ë° API êµ¬ì¶•/ ê´€ë¦¬íˆ´ ê°œë°œ  
- ëª¨ë°”ì¼ ë° PC ì›¹ì—ì„œ ëª¨ë‘ ì ‘ê·¼ ê°€ëŠ¥í•˜ë„ë¡ ë°˜ì‘í˜• ì›¹ êµ¬í˜„/ ê¸€ë¡œë²Œ ì„œë¹„ìŠ¤ ëŒ€ì‘
- ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ FAQ ì½˜í…ì¸  ê´€ë¦¬ ê¸°ëŠ¥ ê°œë°œì„ í•˜ì˜€ìŠµë‹ˆë‹¤.

---

## Project [2]  
![Account](../ldap_login/images/account_list.png)  
### NAS LDAP ì—°ë™ ë° ì „í™˜ í”„ë¡œì íŠ¸
###### - **ë°°ê²½:** ë‚´ë¶€ ì‚¬ë‚´ NAS ì‹œìŠ¤í…œì˜ ì‚¬ìš©ì ì¸ì¦ ë° ê¶Œí•œ ê´€ë¦¬ë¥¼ ìœ„í•´ LDAP ì—°ë™ 
###### - **ê¸°ìˆ  ìŠ¤íƒ:** NAS LDAP, Python, Php, MySQL

---

## Project [2]-2  
- **[LDAP LIST](https://github.com/cowboy779/2025_resume-main/blob/main/html/admin/ldap_login/internal.py)** : NAS LDAP ì‚¬ìš©ì ê³„ì • ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ ë° ê´€ë¦¬íˆ´ ê°œë°œ
- ê³µí†µ ê·¸ë£¹ì›¨ì–´ê°€ ì•„ë‹Œ ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•´, ì‚¬ì› ì…í‡´ì‚¬ ê´€ë¦¬ ì¡°ì§ ê·¸ë£¹ë§ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ ìë™ batch > [batch script ë³´ê¸°](https://github.com/cowboy779/2025_resume-main/blob/main/html/admin/ldap_login/python_auto_shell/job_autoproc.py)
```
##### run_account.sh crontab ì„¤ì • ì˜ˆì‹œ
# ë§¤ì£¼ ì›”~ê¸ˆ 09:30 ~ 19:30 ë§¤ ì‹œê°„ 30ë¶„ë§ˆë‹¤ ì‹¤í–‰
0,30 9-19 * * 1-5 /ltcon/account_site/run_account.sh

##### run_account.sh
#!/bin/bash
# ê°€ìƒ í™˜ê²½ í™œì„±í™”
source /ltcon/venv/account_system/bin/activate
# Python ìŠ¤ì¼€ì¥´ë§ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
python /ltcon/account_system/script/job_autoproc.py

```

---

## Project [3]
### ê°œë°œ í…ŒìŠ¤íŠ¸ ì„œë²„ ìƒí™© ë° ë‚´ë¶€ê·¸ë£¹ì›¨ì–´ ìƒí™© ì•Œë¦¼ì‹œìŠ¤í…œ í•„ìš”
###### - **ë°°ê²½:** zabbix ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œê³¼ ë‚´ë¶€ ê·¸ë£¹ì›¨ì–´ ìƒí™© ë° ì„œë²„ìƒíƒœ ì•Œë¦¼ì„ ìœ„í•œ í…”ë ˆê·¸ë¨ ì—°ë™
###### - **ê¸°ìˆ  ìŠ¤íƒ:** zabbix, Python, Php, Telegram API, SMTP, Linux
- **[Telegram-notifier](https://github.com/cowboy779/2025_resume-main/blob/main/html/admin/telegrame-smtp-autoload/telegram.py)**  
  Telegram API Bot ê¸°ë°˜ ë° SMTP í”„ë¡œí† ì½œì„ ì‚¬ìš©í•œ ë©”ì¼ ì•Œë¦¼ ë¼ì´ë¸ŒëŸ¬ë¦¬  
- ê´€ë¦¬ì ì•Œë¦¼íˆ´ì—ì„œ `email, telegram, all` ì„ íƒì ìœ¼ë¡œ ì•Œë¦¼ ì „ì†¡ ê°€ëŠ¥ì„ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

---

## improvement [0]
### í…”ë ˜ê·¸ë¨ ë° SMTP ì¤‘ë³µ ë°©ì§€ ë° ë§ì€ ì–‘ì˜ ì•Œë¦¼ ì „ì†¡ ìµœì í™”
- ë¹„ë™ê¸° ì²˜ë¦¬ ë° ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜ êµ¬í˜„ìœ¼ë¡œ ì•ˆì •ì„± í–¥ìƒ
- **[PHP : notifier](https://github.com/cowboy779/2025_resume-main/blob/main/html/admin/telegrame-smtp-autoload/job_notiqueue.php)**  =>  **[Python : notifier](https://github.com/cowboy779/2025_resume-main/blob/main/html/admin/telegrame-smtp-autoload/python_auto_shell/job_notiqueue.py)**  
  ê¸°ì¡´ php ì—ì„œëŠ” child process fork ë° í”„ë¡œì„¸ìŠ¤ ë³‘ë ¬ì²˜ë¦¬ë¡œ ì œì–´ êµ¬í˜„í•˜ì˜€ì§€ë§Œ, 
  ëŒ€ëŸ‰ì˜ ì•Œë¦¼ì´ ë°œìƒí•  ê²½ìš°, ì¤‘ë³µ ì „ì†¡ ë° ì§€ì—° ë¬¸ì œ í•´ê²°ì„ ìœ„í•´ Lock ê³¼ ì„œë¸Œí”„ë¡œì„¸ìŠ¤ Taskë¡œ ë¹„ë™ê¸°ë¡œ ê°œì„ í•´ ë³´ì•˜ìŠµë‹ˆë‹¤.
  
flockìœ¼ë¡œ ë™ì‹œì‹¤í–‰ ë°©ì§€ ë° ë®¤í…ìŠ¤
```
if ((trim(file_get_contents("/proc/".posix_getppid()."/comm")) != 'flock')
        && (int)exec("pgrep -c -f '".basename(__FILE__)."'") > 1)
{
  exit;
}
```

---

## improvement [1]
### Google OAuth2 API ì´ìš©í•œ ìš´ì˜íˆ´ ë¡œê·¸ì¸ í†µí•©
###### - **ë°°ê²½:** ì •ë³´í†µì‹ ë§ ì´ìš©ì´‰ì§„ ë° ì •ë³´ë³´í˜¸ ë“±ì— ê´€í•œ ë²•ë¥  ë° ISO ë³´ì•ˆì‹¬ì‚¬ ëŒ€ì‘
###### - **ê¸°ìˆ  ìŠ¤íƒ:** GCP, Google API
- **[Google Login](https://github.com/cowboy779/2025_resume-main/blob/main/html/admin/google/glogin.php)** : ê°œì¸ì„ ì‹ë³„í•  ìˆ˜ ìˆëŠ” ê³ ìœ í•œ ì •ë³´ë¡œ ë³´ë‹¤ ì•ˆì „í•˜ê²Œ ì´ìš© ë° ê´€ë¦¬ê°€ í•„ìš”í•¨
- ë‚´ë¶€ì—ì„œ ì“°ë˜ ê°œì¸ ì•„ì´ë””/ì´ë©”ì¼ ê° ìš´ì˜íˆ´ Google ë¡œê·¸ì¸ìœ¼ë¡œ êµì²´ 
- GCP ì—ì„œ í´ë¼ì´ì–¸íŠ¸ í†µí•©ê´€ë¦¬ -> ì„œë²„ìš”ì²­ì‹œ ID ì „ë‹¬
- OAuth 2.0 í´ë¼ì´ì–¸íŠ¸ ID ë¥¼ ë¶€ì—¬í•¨ìœ¼ë¡œì¨ ê° ìš´ì˜íˆ´ë§ˆë‹¤ ì•¡ì„¸ìŠ¤ ë¶„ë¦¬ì²˜ë¦¬í•˜ì—¬ í•œê³³ì—ì„œ í‚¤ë¥¼ ë°›ì„ ìˆ˜ìˆê²Œ ê´€ë¦¬ê°€ ìš©ì´í•´ì¡ŒìŠµë‹ˆë‹¤.


---
<!-- _class: img-small-right -->
## improvement [2]
### ë°”ì¼ë¡œ ì¹© êµí™˜ì†Œ íŒì—… ë””ìì¸ ìƒì„±
![bylo](../bylo_design/bylo_exchange.png)

- **[BYLO EXCHANGE](https://github.com/cowboy779/2025_resume-main/blob/main/html/admin/bylo_design/index.html)**  
  ìŠ¤í…Œì´ë¸” ì½”ì¸ ê¸°ë°˜ì˜ ê²Œì„ ë‚´ ì¬í™” êµí™˜ì†Œ  
  íŒì—… UI ë””ìì¸ ë° êµ¬í˜„  
- **[WEMIX](https://wemadetree.gitbook.io/wemix-play-tech-int-guide/about-wemix3.0/account)** í”Œë«í¼ê³¼ ì—°ë™
- HTML5, CSS3, JavaScript(jQuery) ê¸°ë°˜ì˜ ì›¹ ë””ìì¸ ì‘ì—…ë„ í•˜ì˜€ìŠµë‹ˆë‹¤.

---

## improvement [3]
### í™ˆí˜ì´ì§€ ìš´ì˜ì•½ê´€ ë° ì •ì±… ì—…ë°ì´íŠ¸ ê´€ë¦¬ ê°œì„ 
 - **[ê¸°ì—…ìœ¤ë¦¬ ìƒë‹´ì„¼í„°](https://www.wemademax.com/ethics)** : ì‹ ê·œí˜ì´ì§€ ê°œì„¤
 - **[ìš´ì˜ì •ì±…](https://docs.lightcon.net/policy/ko.html?date=20221104&idx=2#tab2)** : ê¸°ì¡´ JS document.write() í˜•ì‹ìœ¼ë¡œ TEXT AREA ì—ì„œ ì •ì±…ì„ ìˆ˜ì • íƒ€ì´í•‘ ì‘ì—…í•˜ëŠ”ê±¸ ì¢€ ë” ê°€ì‹œì„±ì´ ì¢‹ê²Œ [summernote](https://summernote.org/) > WYSIWYG ë„ì…í•˜ì—¬ ì‘ì—…íš¨ìœ¨ ê°œì„ 
 - ê·¸ì™¸ íŒŒì¼ ìƒì„±í•˜ì—¬ ì •ì±… ìˆ˜ì •/ì €ì¥ í•˜ëŠ”ê±¸ DBë¡œ ì´ê´€í•˜ì—¬ ì¸ë±ìŠ¤ ê´€ë¦¬í™”ë¡œ ê°œì„ í•´ì„œ ì‹¤ì œ ìš´ì˜íŒ€ì—ì„œ ë‹¤ëŸ‰ì˜ í…ìŠ¤íŠ¸ë¥¼ ë“±ë¡ í˜„ì—…ì—ì„œ ë¹ ë¥´ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ ìˆ˜ì •í•˜ì˜€ìŠµë‹ˆë‹¤.
(ì†ë„ ë° ì¦ì€ ì •ì±…ë³€í™”ë¡œ ì¸í•œ ë²„ì „ê´€ë¦¬ ìš©ì´í•´ì§)


---

## security aspect [0]
### ROS í™ˆí˜ì´ì§€ ê´€ë ¨ Clickjacking  
- ì¬í™” êµí™˜ì†Œ ì˜ë„ì¹˜ ì•Šì€ ì ‘ê·¼ë°©ì§€
- ì˜¨ë¼ì¸ ìƒµ êµ¬ë§¤ ë° ì›”ë › ì´ìš© í›„ í† í°êµí™˜ì‹œ  

X-Frame-Options
```
Nginx
add_header Content-Security-Policy "default-src 'self'; frame-ancestors 'self';" always;
add_header X-Frame-Options "DENY" always;
```
Response headerì— ë³´ì•ˆ ì˜µì…˜ ì¶”ê°€
```
PHP
header("Content-Security-Policy: frame-ancestors 'self' https://www.riseofstars.io;");
header("X-Frame-Options: SAMEORIGIN");
```

---
<!-- _class: section -->
## security aspect [1]
### Bot ë°©ì§€ ë° ê°œë°œê³„ì • ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ë° ë‹¤ëŸ‰ì˜ ì´ˆê¸°í™” ë©”ì¼ ì†¡ì‹ ë°©ì§€
- [reCaptcha](https://github.com/cowboy779/2025_resume-main/blob/main/html/admin/recaptcha/recaptcha.php) : ì¼ë¶€ <span class="mark-blue">Google Login</span>ì´ ì ìš© ì•ˆëœ ë‚´ë¶€ì‚¬ì´íŠ¸ ë³´ì•ˆì„ ìœ„í•´ API ì´ìš©í•˜ì—¬ ë°©ì§€
- ë˜í•œ ìì²´ ë‚´ë¶€ ë¹„ë°€ë²ˆí˜¸ ê²€ì¦ ë° OTP ë¥¼ í†µí•œ 2FA ë³´ì•ˆí•˜ì˜€ìŠµë‹ˆë‹¤.

---

## security aspect [2]
### ISO ëŒ€ì‘ ê°ì¢… ì·¨ì•½ì  ë¯¸ë¹„ëœ í™˜ê²½ ë°©ì–´
 - SQL ì¸ì ì…˜ íŒŒë¼ë¯¸í„° URL í˜¸ì¶œ ë° ë°©ì–´(SQL Prepared)
```php
$where = "COUPONID=:couponId";
$bind = [":couponId" => $couponID];
$couponData = SQLDBWrapper::GetSQLDB()->select(DBTable::COUPON_DATA, $where, $bind);
```
 - ì‘ë‹µí—¤ë” ë²„ì „ ì •ë³´ ë…¸ì¶œ ìˆ¨ê¹€ì²˜ë¦¬
```
php
[root@localhost ~]# vim /etc/php.ini 
;expose_php = On
expose_php = Off
nginx 
[root@localhost ~]# vim /etc/nginx/nginx.conf
### version hide
server_tokens off; --ì¶”ê°€
```

---

## security aspect [3]
  - XSS ë°©ì–´ (ì¶œë ¥ì‹œ HTML íŠ¹ìˆ˜ë¬¸ì ì´ìŠ¤ì¼€ì´í”„)
  ```php
  function escapeHtml($string) {
      return htmlspecialchars($string, ENT_QUOTES, 'UTF-8');
  }
  ```
  - ì„¸ì…˜ í•˜ì´ì¬í‚¹ ë°©ì–´ (ì„¸ì…˜ ê³ ì • ë°©ì§€ ë° ì¿ í‚¤ ë³´ì•ˆ ì„¤ì •) í†µí•´ ë³´ì•ˆê°•í™” í•˜ì˜€ìŠµë‹ˆë‹¤.
  ```python
  app.secret_key = 'xxx'  
  # -- ì„œë²„ ì‚¬ì´ë“œ ì„¸ì…˜ (cachelib ì‚¬ìš© ì˜ˆì‹œ) --
  app.config['SESSION_TYPE'] = 'cachelib' # ë˜ëŠ” 'filesystem' ë“± (ë¼ì´ë¸ŒëŸ¬ë¦¬/ë²„ì „ì— ë”°ë¼ ë‹¤ë¦„)
  app.config['SESSION_CACHELIB'] = FileSystemCache(cache_dir='/var/lib/flask_session') # MemcachedCache ì´ìš©
  app.config['SESSION_PERMANENT'] = True
  app.config['PERMANENT_SESSION_LIFETIME'] = timedelta(minutes=30) # ì„¸ì…˜ ì‚¬ìš©ì‹œê°„ ì œí•œ

  # -- ì¿ í‚¤ ë³´ì•ˆ ì˜µì…˜ --
  app.config['SESSION_COOKIE_HTTPONLY'] = True   # JSì—ì„œ document.cookieë¡œ ì ‘ê·¼ ì°¨ë‹¨
  app.config['SESSION_COOKIE_SECURE'] = True     # https ì „ìš© (ìš´ì˜í™˜ê²½ì—ì„œë§Œ True)
  app.config['SESSION_COOKIE_SAMESITE'] = 'Lax'  # ë˜ëŠ” 'Strict' (CSRF GETì´ëƒ, same-site ìš”ì²­ë§Œ í—ˆìš©ì´ëƒì— ë”°ë¼ ë‹¤ë¦„)
  ```

---

<!-- _class: section -->
## ê¸°ìˆ ì§€ì› Infra DevOPS [0]
 - íŠ¹ì • port í—ˆìš© ë° ì›ì™¸ì—ì„œ ë“¤ì–´ì˜¤ëŠ” ì™¸ë¶€ ë°©í™”ë²½ ê´€ë¦¬
 - í…ŒìŠ¤íŠ¸ ê°œë°œ VM ìƒì„± ë° íŠ¹ì • IP allow ì‘ì—…
 - Login ìœ ì € ìƒì„± ë° SSH Shell ê¶Œí•œ ë¶€ì—¬ ì‘ì—… 
```
useradd test123
mkdir -p /home/test123/.ssh
vi /home/test123/.ssh/authorized_keys
visudo -f /etc/sudoers
ps -ef
```

---
<!-- _class: section -->
## ê¸°ìˆ ì§€ì› Infra DevOps [1]
 - íŠ¸ëŸ¬ë¸” ìŠˆíŒ… ì—ëŸ¬ë¡œê·¸ ê´€ë¦¬
 - VM ìš©ëŸ‰ ì¦ê°€ ë° swap ê´€ë¦¬
```
1. vm ìš©ëŸ‰ ì¡°ì •
2. df-h ë””ìŠ¤í¬ ìš©ëŸ‰ í™•ì¸
3. growpart /dev/sda 3
4. resize2fs /dev/sda3 (íŒŒì¼ì‹œìŠ¤í…œì´ ext4 ì¼ë•Œ)
5. xfs_growfs /dev/sda3 (íŒŒì¼ì‹œìŠ¤í…œì´ xfs ì¼ë•Œ)
6. df -h
7. lsblk
```

---

## ê¸°ìˆ ì§€ì› Infra DevOps [2]
 - Jenkins Execute shell í†µí•´ ìë™ë°°í¬ ë° ë¹Œë“œê´€ë¦¬ ì´ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.
```
rm -rf _syncspace
rsync -r ./*.wsgi admin api lib ./_syncspace --exclude=.svn
mkdir ./_syncspace/config
cp ./config/config.py.test ./_syncspace/config/config.py
rsync -r --rsync-path="sudo rsync" ./_syncspace/ ${TARGET_HOST}:${TARGET_DIR}

ssh ${TARGET_HOST} 'sudo touch /cowboy779/uwsgi.d/_admin.ini'
ssh ${TARGET_HOST} 'sudo touch /cowboy779/uwsgi.d/_api.ini'
```
 - SVN/GIT ì†ŒìŠ¤ ìš´ì˜ê´€ë¦¬ ë° ê¶Œí•œ ê´€ë¦¬ìš© ì›¹í˜ì´ì§€ ì´ì‹ ë° ë¹Œë“œë°°í¬
 - Gitea ì„¤ì¹˜í˜• WEB Gitea êµ¬ì¶•
 - SVN Tortoise ì—ì„œ ê°œë°œê³„ì • ì†ŒìŠ¤ ìš´ì˜ê´€ë¦¬ ë° ê¶Œí•œ ê´€ë¦¬ìš© **[iF.SVNAdmin](https://svnadmin.insanefactory.com)** ì´ì‹ ë° ë¹Œë“œë°°í¬


---

## ê¸°ìˆ ì§€ì› Infra DevOps [3]
- Nginx ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ê´€ë¦¬ ë° ë‹¤ìˆ˜ì˜ VM í¬ì›Œë”© ì—°ê²°ê´€ë¦¬
- Nginx websocket ì—°ê²°ì¶”ê°€
```
nginx
server {
    listen   8080 ssl default_server;
    include  /etc/nginx/ssl/_ssl_net.setting;
    location / {
        proxy_pass http://localhost:8001;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_http_version 1.1;# 
        proxy_set_header Upgrade $http_upgrade;# 
        proxy_set_header Connection "upgrade";# 
        proxy_set_header Host $host;#
    }
}
```

---
## ê¸°ìˆ ì§€ì› Infra DevOps [4]
- Mysql dump ë°±ì—…ê´€ë¦¬ ì‰˜ì„ í†µí•´ íŠ¹ì • ë¡œê·¸ ë° íŒŒì¼ë“¤ ì´ì¤‘í™”
```
db_backup.sh
ssh localhost "mysqldump -u testdump -p dumptable > _backup.sql"
scp 127.0.0.1:~/_backup.sql ./
mysql -h test.com -u testdump -p testdump < _backup.sql
```
```
# vim /etc/my.cnf
log-bin = mysql-bin
server-id = 1
binlog_format = row
expire_logs_days = 2
# slave
server-id = 2
```
```
`mySQL 8.0.23 ì´ìƒ` CHANGE REPLICATION SOURCE TO MASTER_HOST=...
GET_SOURCE_PUBLIC_KEY=1;(caching_sha2_password ì˜¤ë¥˜ ë°©ì§€)
```

---

## ê¸°ìˆ ì§€ì› Infra DevOps [5]
- fluentd ë¸Œë¡œì»¤ ë¡œê·¸ ê´€ë¦¬(íŒŒì¼ë¡œ ìƒì„±í•˜ì—¬ ì „ë‹¬ ë° Bigqueryë‚˜ ìš´ì˜ ë¡œê·¸ë·°ì–´ì‚¬ìš©)
```php
static public function saveErrFile($message, $type) {
        $date = date("Ymd", time());
        $fileName = "{$type}_{$date}.err";
        file_put_contents(Config::LOG_PATH . $fileName, $message . "\n", FILE_APPEND);
    }
```
```
<source> #fluentd.conf
  @type tail
  path /cowboy779/log/error/*_%Y%m%d.err
  pos_file /var/log/td-agent/_system.err.pos
  read_from_head true
  <parse>
    @type json
    time_key LOGTM
  ...
</source>
  ```

---

## ê¸°ìˆ ì§€ì› Infra DevOps [6]
 - Juniper ë°©í™”ë²½ ê´€ë¦¬ ë° ì •ì±…ì„¤ì •
 - íŠ¹ì • IP ëŒ€ì—­ ë° í¬íŠ¸ í—ˆìš©/ì°¨ë‹¨ ê´€ë¦¬  
  Untrust, Trust zone ì„¤ì • ë° ì •ì±… í†µí•´ ì´ˆê¸° ì™¸ë¶€ë°©í™”ë²½ ì„¤ì •
 - service set ì‚¬ìš©ìì •ì˜ í”„ë¡œí† ì½œ ë“±ë¡ì²˜ë¦¬

`ìœ„ í•´ë‹¹ ê´€ë¦¬ì±…ì„ì¥ì€ íŒ€ì¥ë‹˜ì´ ì •, ì €ëŠ” ë¶€ì˜ ì—­í• ë¡œ ì§€ì •ëœ ì •ì±…ë§Œ ì§„í–‰í•˜ì˜€ìŠµë‹ˆë‹¤.`

---

<!-- _class: section -->
# Thanks for Reading ğŸ™Œ

| êµ¬ë¶„ | ë§í¬ |
|---|---|
| **GitHub** | `https://github.com/cowboy779` |
| **Email** | `cowboy779@naver.com` |
| **Mobile** | `010-8809-3586` |